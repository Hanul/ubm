let global=window;global.CONFIG={isDevMode:!1};global.METHOD=(n=>{let o,t,i=(n,o)=>{if(void 0!==t)return t(n,o)};return i.type=METHOD,o="function"==typeof n?n(i):n,void 0!==o&&(t=o.run),i});global.MSG=METHOD({run:n=>{let r;return EACH(n,n=>{return r=n,!1}),r}});global.TO_DELETE=null;global.BOX=METHOD(n=>{let o={};n.getAllBoxes=(()=>{return o});return{run:n=>{let t=n=>{let o,i=n.split(".");return EACH(i,n=>{void 0===o?(void 0===t[n]&&(t[n]={}),o=t[n]):(void 0===o[n]&&(o[n]={}),o=o[n])}),o};return t.type=BOX,t.boxName=n,global[n]=o[n]=t,void 0===CONFIG[n]&&(CONFIG[n]={}),FOR_BOX.inject(t),t}}});global.FOR_BOX=METHOD(n=>{let t=[];n.inject=(n=>{EACH(t,t=>{t(n)})});return{run:n=>{EACH(BOX.getAllBoxes(),t=>{n(t)}),t.push(n)}}});global.SHOW_ERROR=((e,o,r)=>{let t=CALENDAR();console.error(t.getYear()+"-"+t.getMonth(!0)+"-"+t.getDate(!0)+" "+t.getHour(!0)+":"+t.getMinute(!0)+":"+t.getSecond(!0)+" ["+e+"] 오류가 발생했습니다. 오류 메시지: "+o),void 0!==r&&(console.error("다음은 오류를 발생시킨 파라미터입니다."),console.error(JSON.stringify(r,TO_DELETE,4)))});global.SHOW_WARNING=((e,n,o)=>{let t=CALENDAR();console.warn(t.getYear()+"-"+t.getMonth(!0)+"-"+t.getDate(!0)+" "+t.getHour(!0)+":"+t.getMinute(!0)+":"+t.getSecond(!0)+" ["+e+"] 경고가 발생했습니다. 경고 메시지: "+n),void 0!==o&&(console.warn("다음은 경고를 발생시킨 파라미터입니다."),console.warn(JSON.stringify(o,TO_DELETE,4)))});!function(){"use strict";function t(t,i){i?(c[0]=c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0,this.blocks=c):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function i(i,r,n){var a="string"!=typeof i;if(a){if(null===i||void 0===i)throw h;i.constructor===s.ArrayBuffer&&(i=new Uint8Array(i))}var o=i.length;if(a){if("number"!=typeof o||!Array.isArray(i)&&(!e||!ArrayBuffer.isView(i)))throw h}else{for(var f,u=[],o=i.length,c=0,y=0;y<o;++y)f=i.charCodeAt(y),f<128?u[c++]=f:f<2048?(u[c++]=192|f>>6,u[c++]=128|63&f):f<55296||f>=57344?(u[c++]=224|f>>12,u[c++]=128|f>>6&63,u[c++]=128|63&f):(f=65536+((1023&f)<<10|1023&i.charCodeAt(++y)),u[c++]=240|f>>18,u[c++]=128|f>>12&63,u[c++]=128|f>>6&63,u[c++]=128|63&f);i=u}i.length>64&&(i=new t(r,!0).update(i).array());for(var p=[],l=[],y=0;y<64;++y){var d=i[y]||0;p[y]=92^d,l[y]=54^d}t.call(this,r,n),this.update(l),this.oKeyPad=p,this.inner=!0,this.sharedMemory=n}var h="input is invalid type",s="object"==typeof window?window:{},r=!s.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;r&&(s=global);var e=(!s.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,"function"==typeof define&&define.amd,"undefined"!=typeof ArrayBuffer),n="0123456789abcdef".split(""),a=[-2147483648,8388608,32768,128],o=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],u=["hex","array","digest","arrayBuffer"],c=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var y=function(i,h){return function(s){return new t(h,!0).update(s)[i]()}},p=function(i){var h=y("hex",i);r&&(h=l(h,i)),h.create=function(){return new t(i)},h.update=function(t){return h.create().update(t)};for(var s=0;s<u.length;++s){var e=u[s];h[e]=y(e,i)}return h},l=function(t,i){var s=require("crypto"),r=require("buffer").Buffer,e=i?"sha224":"sha256",n=function(i){if("string"==typeof i)return s.createHash(e).update(i,"utf8").digest("hex");if(null===i||void 0===i)throw h;return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===r?s.createHash(e).update(new r(i)).digest("hex"):t(i)};return n},d=function(t,h){return function(s,r){return new i(s,h,!0).update(r)[t]()}},v=function(t){var h=d("hex",t);h.create=function(h){return new i(h,t)},h.update=function(t,i){return h.create(t).update(i)};for(var s=0;s<u.length;++s){var r=u[s];h[r]=d(r,t)}return h};t.prototype.update=function(t){if(!this.finalized){var i="string"!=typeof t;if(i){if(null===t||void 0===t)throw h;t.constructor===s.ArrayBuffer&&(t=new Uint8Array(t))}var r=t.length;if(i&&("number"!=typeof r||!Array.isArray(t)&&(!e||!ArrayBuffer.isView(t))))throw h;for(var n,a,f=0,u=this.blocks;f<r;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),i)for(a=this.start;f<r&&a<64;++f)u[a>>2]|=t[f]<<o[3&a++];else for(a=this.start;f<r&&a<64;++f)n=t.charCodeAt(f),n<128?u[a>>2]|=n<<o[3&a++]:n<2048?(u[a>>2]|=(192|n>>6)<<o[3&a++],u[a>>2]|=(128|63&n)<<o[3&a++]):n<55296||n>=57344?(u[a>>2]|=(224|n>>12)<<o[3&a++],u[a>>2]|=(128|n>>6&63)<<o[3&a++],u[a>>2]|=(128|63&n)<<o[3&a++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++f)),u[a>>2]|=(240|n>>18)<<o[3&a++],u[a>>2]|=(128|n>>12&63)<<o[3&a++],u[a>>2]|=(128|n>>6&63)<<o[3&a++],u[a>>2]|=(128|63&n)<<o[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=u[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,i=this.lastByteIndex;t[16]=this.block,t[i>>2]|=a[3&i],this.block=t[16],i>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,i,h,s,r,e,n,a,o,u,c,y=this.h0,p=this.h1,l=this.h2,d=this.h3,v=this.h4,A=this.h5,b=this.h6,w=this.h7,g=this.blocks;for(t=16;t<64;++t)r=g[t-15],i=(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3,r=g[t-2],h=(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10,g[t]=g[t-16]+i+g[t-7]+h<<0;for(c=p&l,t=0;t<64;t+=4)this.first?(this.is224?(a=300032,r=g[0]-1413257819,w=r-150054599<<0,d=r+24177077<<0):(a=704751109,r=g[0]-210244248,w=r-1521486534<<0,d=r+143694565<<0),this.first=!1):(i=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),h=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),a=y&p,s=a^y&l^c,n=v&A^~v&b,r=w+h+n+f[t]+g[t],e=i+s,w=d+r<<0,d=r+e<<0),i=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),h=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7),o=d&y,s=o^d&p^a,n=w&v^~w&A,r=b+h+n+f[t+1]+g[t+1],e=i+s,b=l+r<<0,l=r+e<<0,i=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),h=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),u=l&d,s=u^l&y^o,n=b&w^~b&v,r=A+h+n+f[t+2]+g[t+2],e=i+s,A=p+r<<0,p=r+e<<0,i=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),h=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7),c=p&l,s=c^p&d^u,n=A&b^~A&w,r=v+h+n+f[t+3]+g[t+3],e=i+s,v=y+r<<0,y=r+e<<0;this.h0=this.h0+y<<0,this.h1=this.h1+p<<0,this.h2=this.h2+l<<0,this.h3=this.h3+d<<0,this.h4=this.h4+v<<0,this.h5=this.h5+A<<0,this.h6=this.h6+b<<0,this.h7=this.h7+w<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,s=this.h3,r=this.h4,e=this.h5,a=this.h6,o=this.h7,f=n[t>>28&15]+n[t>>24&15]+n[t>>20&15]+n[t>>16&15]+n[t>>12&15]+n[t>>8&15]+n[t>>4&15]+n[15&t]+n[i>>28&15]+n[i>>24&15]+n[i>>20&15]+n[i>>16&15]+n[i>>12&15]+n[i>>8&15]+n[i>>4&15]+n[15&i]+n[h>>28&15]+n[h>>24&15]+n[h>>20&15]+n[h>>16&15]+n[h>>12&15]+n[h>>8&15]+n[h>>4&15]+n[15&h]+n[s>>28&15]+n[s>>24&15]+n[s>>20&15]+n[s>>16&15]+n[s>>12&15]+n[s>>8&15]+n[s>>4&15]+n[15&s]+n[r>>28&15]+n[r>>24&15]+n[r>>20&15]+n[r>>16&15]+n[r>>12&15]+n[r>>8&15]+n[r>>4&15]+n[15&r]+n[e>>28&15]+n[e>>24&15]+n[e>>20&15]+n[e>>16&15]+n[e>>12&15]+n[e>>8&15]+n[e>>4&15]+n[15&e]+n[a>>28&15]+n[a>>24&15]+n[a>>20&15]+n[a>>16&15]+n[a>>12&15]+n[a>>8&15]+n[a>>4&15]+n[15&a];return this.is224||(f+=n[o>>28&15]+n[o>>24&15]+n[o>>20&15]+n[o>>16&15]+n[o>>12&15]+n[o>>8&15]+n[o>>4&15]+n[15&o]),f},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,s=this.h3,r=this.h4,e=this.h5,n=this.h6,a=this.h7,o=[t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,h>>24&255,h>>16&255,h>>8&255,255&h,s>>24&255,s>>16&255,s>>8&255,255&s,r>>24&255,r>>16&255,r>>8&255,255&r,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n];return this.is224||o.push(a>>24&255,a>>16&255,a>>8&255,255&a),o},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),i=new DataView(t);return i.setUint32(0,this.h0),i.setUint32(4,this.h1),i.setUint32(8,this.h2),i.setUint32(12,this.h3),i.setUint32(16,this.h4),i.setUint32(20,this.h5),i.setUint32(24,this.h6),this.is224||i.setUint32(28,this.h7),t},i.prototype=new t,i.prototype.finalize=function(){if(t.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();t.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),t.prototype.finalize.call(this)}};var A=p();A.sha256=A,A.sha224=p(!0),A.sha256.hmac=v(),A.sha224.hmac=v(!0),global.__SHA256_LIB=A.sha256}();global.CLASS=METHOD(n=>{let i=0,t=n.getNextInstanceId=(()=>{return i+=1,i-1});return{run:n=>{let i,e,o,r,f,u=(n,i)=>{let e={},o={type:u,id:t(),checkIsInstanceOf:n=>{let i=u;for(;void 0!==i;){if(i===n)return!0;i=i.mom}return!1}};return n=d(e,o,n,i),c(e,o,n,i),o};i="function"==typeof n?n(u):n,void 0!==i&&(e=i.preset,o=i.init,r=i.params,f=i.afterInit),u.type=CLASS,u.id=t();let d=u.innerInit=((n,i,t,f)=>{let d,c,A=(n,i)=>{EACH(i,(i,t)=>{void 0===n[t]?n[t]=i:CHECK_IS_DATA(n[t])===!0&&CHECK_IS_DATA(i)===!0&&A(n[t],i)})};if(void 0!==r)if(void 0===t)t=r(u);else if(CHECK_IS_DATA(t)===!0){let n=r(u);void 0!==n&&A(t,n)}else c=t,t=r(u);return void 0!==e&&(d=e(t,f),void 0!==d&&(u.mom=d,d.type===CLASS?d.innerInit(n,i,t,f):d.type.innerInit(n,i,t,f))),void 0!==o&&o(n,i,void 0===c?t:c,f),t}),c=u.innerAfterInit=((n,i,t,e)=>{let o=u.mom;void 0!==o&&(o.type===CLASS?o.innerAfterInit(n,i,t,e):o.type.innerAfterInit(n,i,t,e)),void 0!==f&&f(n,i,t,e)});return u}}});global.INIT_OBJECTS=METHOD({run:()=>{OBJECT.initObjects()}});global.OBJECT=METHOD(n=>{let t=[],e=!1,i=n=>{let t=n.type,e={},i={};n.id=CLASS.getNextInstanceId(),t.innerInit(e,n,i),t.innerAfterInit(e,n,i)},r=n=>{e===!0?i(n):t.push(n)};n.removeReadyObject=(n=>{REMOVE({array:t,value:n})}),n.initObjects=(()=>{EACH(t,n=>{i(n)}),e=!0});return{run:n=>{let t=CLASS(n),e={type:t,checkIsInstanceOf:n=>{let e=t;for(;void 0!==e;){if(e===n)return!0;e=e.mom}return!1}};return r(e),e}}});global.NEXT=METHOD({run:(i,n)=>{let e,o,t;void 0===n&&(n=i,i=void 0),void 0!==i&&(CHECK_IS_ARRAY(i)!==!0?e=i:o=i);let f;f=CHECK_IS_ARRAY(n)!==!0?[n]:n,REPEAT({start:f.length-1,end:0},i=>{let n;if(0!==i&&void 0===t)t=f[i]();else if(i>0)n=t,t=f[i](n),t.next=n;else if(n=t,void 0===n&&(n=(()=>{})),t=f[i],void 0!==e){let i=-1;RUN(o=>{i+=1,i+1<e?t(i,o):t(i,n)})}else if(void 0!==o){let i=o.length;if(0===i)n();else{let e=-1;RUN(f=>{e+=1,e+1<i?(o.length===i-1&&(e-=1,i-=1),t(o[e],f,e)):t(o[e],n,e)})}}else t(n)})}});global.OVERRIDE=METHOD({run:(e,t)=>{void 0!==e.type&&e.type.type===CLASS&&OBJECT.removeReadyObject(e),t(e)}});global.PARALLEL=METHOD({run:(n,i)=>{let f=0;if(void 0===i){i=n;let o=i.length-1;EACH(i,(n,t)=>{t<o&&n(()=>{f+=1,f===o&&i[o]()})})}else if(void 0===n)i[1]();else if(CHECK_IS_DATA(n)===!0){let o=COUNT_PROPERTIES(n);0===o?i[1]():EACH(n,(n,t)=>{i[0](n,()=>{f+=1,f===o&&i[1]()},t)})}else CHECK_IS_ARRAY(n)===!0?0===n.length?i[1]():EACH(n,(o,t)=>{i[0](o,()=>{f+=1,f===n.length&&i[1]()},t)}):0===n?i[1]():REPEAT(n,o=>{i[0](o,()=>{f+=1,f===n&&i[1]()})})}});global.PARSE_STR=METHOD({run:A=>{try{let r=JSON.parse(A);if(CHECK_IS_DATA(r)===!0)return UNPACK_DATA(r);if(CHECK_IS_ARRAY(r)===!0){let A=[];return EACH(r,r=>{A.push(UNPACK_DATA(r))}),A}return r}catch(A){return}}});global.RANDOM_STR=METHOD(()=>{const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return{run:t=>{let r="";return REPEAT(t,()=>{r+=n.charAt(RANDOM({limit:n.length}))}),r}}});global.SHA256=METHOD({run:r=>{let e=String(r.password),n=String(r.key),t=__SHA256_LIB.hmac.create(n);return t.update(e),t.hex()}});global.STRINGIFY=METHOD({run:A=>{if(CHECK_IS_DATA(A)===!0)return JSON.stringify(PACK_DATA(A));if(CHECK_IS_ARRAY(A)===!0){let n=A=>{let r=[];return EACH(A,A=>{CHECK_IS_DATA(A)===!0?r.push(PACK_DATA(A)):CHECK_IS_ARRAY(A)===!0?r.push(n(A)):r.push(A)}),r};return JSON.stringify(n(A))}return JSON.stringify(A)}});global.TEST=METHOD(n=>{let o=0;return{run:(n,t)=>{t(t=>{let r,R={};t===!0?console.log(MSG({ko:"["+n+" 테스트] 테스트를 통과하였습니다. 총 "+o+"개의 오류가 있습니다."})):(R.__THROW_ERROR_$$$=(()=>{try{throw Error()}catch(n){return n}}),r=R.__THROW_ERROR_$$$().stack,void 0!==r&&(r=r.substring(r.indexOf("__THROW_ERROR_$$$")),r=r.split("\n")[2],r=r.substring(r.indexOf("at "))),o+=1,console.log(MSG({ko:"["+n+" 테스트] "+r+"에서 오류가 발견되었습니다. 총 "+o+"개의 오류가 있습니다."})))})}}});global.URI_MATCHER=CLASS({init:(n,t,r)=>{let i=CLASS({init:(n,t,i)=>{let e,u=i.split("/"),c={},f=n=>{let t=n.split("/");return EACH(u,(n,r)=>{let i=t[r];if("**"===i)return e=!0,!1;if(void 0===i)return!1;if(""!==n&&"{"===i.charAt(0)&&"}"===i.charAt(i.length-1))c[i.substring(1,i.length-1)]=n;else if("*"!==i&&i!==n)return!1;return!(r===u.length-1&&r<t.length-1&&""!==t[t.length-1])&&void 0})===!0||e===!0};e=CHECK_IS_ARRAY(r)===!0?EACH(r,n=>{return f(n)!==!0})!==!0:f(r);t.checkIsMatched=(()=>{return e}),t.getURIParams=(()=>{return c})}});t.check=(n=>{return i(n)})}});global.VALID=CLASS(t=>{let a=t.notEmpty=(t=>{let a=void 0===t||t===TO_DELETE?"":String(t);return CHECK_IS_ARRAY(t)===!0||""!==a.trim()}),e=(t.regex=(t=>{let a=String(t.value),e=t.pattern,n=a.match(e);return n!==TO_DELETE&&a===n[0]}),t.size=(t=>{let a=String(t.value),e=t.min,n=t.max;return void 0===e&&(e=0),e<=a.trim().length&&(void 0===n||a.length<=n)}),t.integer=(t=>{let e=String(t);return a(e)===!0&&e.match(/^(?:-?(?:0|[1-9][0-9]*))$/)!==TO_DELETE}),t.real=(t=>{let e=String(t);return a(e)===!0&&e.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)!==TO_DELETE})),n=(t.bool=(t=>{let a=String(t);return"true"===a||"false"===a}),t.date=(t=>{let a=String(t),e=Date.parse(a);return isNaN(e)===!1}),t.min=(t=>{let a=t.value,n=t.min;return e(a)===!0&&n<=a}),t.max=(t=>{let a=t.value,n=t.max;return e(a)===!0&&n>=a}),t.email=(t=>{return"string"==typeof t&&a(t)===!0&&t.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)!==TO_DELETE}),t.png=(t=>{return"string"==typeof t&&a(t)===!0&&t.match(/^data:image\/png;base64,/)!==TO_DELETE}),t.url=(t=>{return"string"==typeof t&&a(t)===!0&&t.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2}))|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)!==TO_DELETE&&t.length<=2083}),t.username=(t=>{return"string"==typeof t&&a(t)===!0&&t.match(/^[_a-zA-Z0-9\-]+$/)!==TO_DELETE}),t.mongoId=(t=>{return"string"==typeof t&&a(t)===!0&&t.match(/[0-9a-f]{24}/)!==TO_DELETE&&24===t.length}),t.one=(t=>{let a=t.value,e=t.array;return EACH(e,t=>{if(a===t)return!1})===!1})),r=(t.array=(t=>{return CHECK_IS_ARRAY(t)===!0}),t.data=(t=>{return CHECK_IS_DATA(t)===!0}),t.element=(t=>{let a=t.array,e=VALID({_:t.validData}),n=t.isToWash;return EACH(a,t=>{if((n===!0?e.checkAndWash:e.check)({_:t}).checkHasError()===!0)return!1})===!0})),i=t.property=(t=>{let a=t.data,e=VALID({_:t.validData}),n=t.isToWash;return EACH(a,t=>{if((n===!0?e.checkAndWash:e.check)({_:t}).checkHasError()===!0)return!1})===!0}),u=t.detail=(t=>{let a=t.data,e=VALID(t.validDataSet),n=t.isToWash;return(n===!0?e.checkAndWash:e.check)(a).checkHasError()!==!0});t.equal=(t=>{let a=String(t.value),e=String(t.validValue);return a===e});return{init:(e,o,f)=>{let c=CLASS({init:(e,o,c)=>{let l=c.data,d=c.isToWash,s=c.isForUpdate,E=!1,v={};EACH(f,(e,o)=>{e!==!0&&EACH(e,(e,f)=>{let c=l[o];if(s===!0&&void 0===c)return!1;if(d===!0&&"notEmpty"!==f&&a(c)!==!0)return l[o]=s===!0?TO_DELETE:void 0,!0;if("one"===f){if(n({array:e,value:c})===!1)return E=!0,v[o]={type:f,array:e,value:c},!1}else if("element"===f){if(r({validData:e,array:c,isToWash:d})===!1)return E=!0,v[o]={type:f,validData:e,array:c},!1}else if("property"===f){if(i({validData:e,data:c,isToWash:d})===!1)return E=!0,v[o]={type:f,validData:e,data:c},!1}else if("detail"===f){if(u({validDataSet:e,data:c,isToWash:d})===!1)return E=!0,v[o]={type:f,validDataSet:e,data:c},!1}else if("size"===f){if(t[f](CHECK_IS_DATA(e)===!0?COMBINE([e,{value:c}]):COMBINE([{min:e,max:e},{value:c}]))===!1)return E=!0,v[o]={type:f,validParams:e,value:c},!1}else if("regex"===f){if(t[f]({pattern:e,value:c})===!1)return E=!0,v[o]={type:f,validParam:e,value:c},!1}else if("min"===f){if(t[f]({min:e,value:c})===!1)return E=!0,v[o]={type:f,validParam:e,value:c},!1}else if("max"===f){if(t[f]({max:e,value:c})===!1)return E=!0,v[o]={type:f,validParam:e,value:c},!1}else if("equal"===f){if(t[f]({value:c,validValue:e})===!1)return E=!0,v[o]={type:f,validParam:e,value:c},!1}else if(e===!0&&t["id"===f?"mongoId":f](c)===!1)return E=!0,v[o]={type:f,value:c},!1;"string"==typeof c&&(c=c.trim(),a(c)===!0?"integer"===f?l[o]=INTEGER(c):"real"===f?l[o]=REAL(c):"bool"===f?l[o]="true"===c:"date"===f?l[o]=new Date(c):"username"===f?l[o]=c.toLowerCase():l[o]=c:l[o]=c)})}),d===!0&&EACH(l,(t,a)=>{void 0===f[a]&&delete l[a]});o.checkHasError=(()=>{return E}),o.getErrors=(()=>{return v})}});o.check=(t=>{return c({data:t})}),o.checkAndWash=(t=>{return c({data:t,isToWash:!0})}),o.checkForUpdate=(t=>{return c({data:t,isToWash:!0,isForUpdate:!0})}),o.getValidDataSet=(()=>{return f})}}});global.CHECK_ARE_SAME=METHOD({run:n=>{let t=!1,e=(n,t)=>{return n instanceof Date==!0&&t instanceof Date==!0?n.getTime()===t.getTime():n instanceof RegExp==!0&&t instanceof RegExp==!0?n.toString()===t.toString():CHECK_IS_DATA(n)===!0&&CHECK_IS_DATA(t)===!0?EACH(n,(n,E)=>{return e(n,t[E])}):CHECK_IS_ARRAY(n)===!0&&CHECK_IS_ARRAY(t)===!0?EACH(n,(n,E)=>{return e(n,t[E])}):n===t};return n.length>1&&(t=REPEAT(n.length,t=>{return t<n.length-1?e(n[t],n[t+1]):e(n[t],n[0])})),t}});global.CHECK_IS_ARRAY=METHOD({run:t=>{return void 0!==t&&t!==TO_DELETE&&"object"==typeof t&&"[object Array]"===Object.prototype.toString.call(t)}});global.CHECK_IS_DATA=METHOD({run:n=>{return void 0!==n&&n!==TO_DELETE&&CHECK_IS_ARRAY(n)!==!0&&n instanceof Date!=!0&&n instanceof RegExp!=!0&&"object"==typeof n}});global.CHECK_IS_EMPTY_DATA=METHOD({run:E=>{return CHECK_ARE_SAME([E,{}])}});global.COUNT_PROPERTIES=METHOD({run:n=>{let u=0;return EACH(n,()=>{u+=1}),u}});global.PACK_DATA=METHOD({run:A=>{let n=COPY(A),_=[],C=[];return EACH(n,(A,t)=>{A instanceof Date==!0?(n[t]=INTEGER(A.getTime()),_.push(t)):A instanceof RegExp==!0?(n[t]=A.toString(),C.push(t)):CHECK_IS_DATA(A)===!0?n[t]=PACK_DATA(A):CHECK_IS_ARRAY(A)===!0&&EACH(A,(n,_)=>{CHECK_IS_DATA(n)===!0&&(A[_]=PACK_DATA(n))})}),n.__D=_,n.__R=C,n}});global.UNPACK_DATA=METHOD({run:_=>{let A=COPY(_);return void 0!==A.__D&&(EACH(A.__D,(_,n)=>{A[_]=new Date(A[_])}),delete A.__D),void 0!==A.__R&&(EACH(A.__R,(_,n)=>{let C,e=A[_];for(let t=e.length-1;t>=0;t-=1)if("/"===e[t]){C=e.substring(t+1),e=e.substring(1,t);break}A[_]=new RegExp(e,C)}),delete A.__R),EACH(A,(_,n)=>{CHECK_IS_DATA(_)===!0?A[n]=UNPACK_DATA(_):CHECK_IS_ARRAY(_)===!0&&EACH(_,(A,n)=>{CHECK_IS_DATA(A)===!0&&(_[n]=UNPACK_DATA(A))})}),A}});global.CHECK_IS_IN=METHOD({run:n=>{let E=n.data,r=n.array,i=n.value;return void 0!==E?EACH(E,(n,E)=>{if(CHECK_ARE_SAME([n,i])===!0)return!1})!==!0:void 0!==r?EACH(r,(n,E)=>{if(CHECK_ARE_SAME([n,i])===!0)return!1})!==!0:void 0}});global.COMBINE=METHOD({run:n=>{let E;if(n.length>0){let i=n[0];CHECK_IS_DATA(i)===!0?(E={},EACH(n,n=>{EXTEND({origin:E,extend:n})})):CHECK_IS_ARRAY(i)===!0&&(E=[],EACH(n,n=>{EXTEND({origin:E,extend:n})}))}return E}});global.COPY=METHOD({run:n=>{let E;return CHECK_IS_DATA(n)===!0?(E={},EXTEND({origin:E,extend:n})):CHECK_IS_ARRAY(n)===!0&&(E=[],EXTEND({origin:E,extend:n})),E}});global.EXTEND=METHOD({run:e=>{let n=e.origin,t=e.extend;return CHECK_IS_DATA(n)===!0?EACH(t,(e,t)=>{if(e instanceof Date==!0)n[t]=new Date(e.getTime());else if(e instanceof RegExp==!0){let i,s=e.toString();for(let g=s.length-1;g>=0;g-=1)if("/"===s[g]){i=s.substring(g+1),s=s.substring(1,g);break}n[t]=new RegExp(s,i)}else CHECK_IS_DATA(e)===!0||CHECK_IS_ARRAY(e)===!0?n[t]=COPY(e):n[t]=e}):CHECK_IS_ARRAY(n)===!0&&EACH(t,e=>{if(e instanceof Date==!0)n.push(new Date(e.getTime()));else if(e instanceof RegExp==!0){let t,i=e.toString();for(let s=i.length-1;s>=0;s-=1)if("/"===i[s]){t=i.substring(s+1),i=i.substring(1,s);break}n.push(new RegExp(i,t))}else CHECK_IS_DATA(e)===!0||CHECK_IS_ARRAY(e)===!0?n.push(COPY(e)):n.push(e)}),n}});global.FIND=METHOD({run:(n,i)=>{let r;if(void 0!==i)CHECK_IS_DATA(n)===!0?EACH(n,(n,u)=>{if(i(n,u)===!0)return r=n,!1}):CHECK_IS_ARRAY(n)===!0&&EACH(n,(n,u)=>{if(i(n,u)===!0)return r=n,!1});else{let i=n.data,u=n.array,t=n.value;void 0!==i&&EACH(i,(n,i)=>{if(n===t)return r=i,!1}),void 0!==u&&EACH(u,(n,i)=>{if(n===t)return r=i,!1})}return r}});global.REMOVE=METHOD({run:(E,a)=>{if(void 0!==a)CHECK_IS_DATA(E)===!0?EACH(E,(n,e)=>{a(n,e)===!0&&REMOVE({data:E,name:e})}):CHECK_IS_ARRAY(E)===!0&&EACH(E,(n,e)=>{a(n,e)===!0&&REMOVE({array:E,key:e})});else{let a=E.data,n=E.array,e=E.name,i=E.key,o=E.value;void 0!==e&&delete a[e],void 0!==i&&n.splice(i,1),void 0!==o&&(void 0!==a&&EACH(a,(E,n)=>{CHECK_ARE_SAME([E,o])===!0&&REMOVE({data:a,name:n})}),void 0!==n&&EACH(n,(E,a)=>{CHECK_ARE_SAME([E,o])===!0&&REMOVE({array:n,key:a})}))}}});global.CALENDAR=CLASS({init:(t,e,n)=>{void 0===n&&(n=new Date);e.getYear=(()=>{return n.getFullYear()}),e.getMonth=(t=>{let e=n.getMonth()+1;return t===!0?e<10?"0"+e:""+e:e}),e.getDate=(t=>{let e=n.getDate();return t===!0?e<10?"0"+e:""+e:e}),e.getDay=(()=>{return n.getDay()}),e.getHour=(t=>{let e=n.getHours();return t===!0?e<10?"0"+e:""+e:e}),e.getMinute=(t=>{let e=n.getMinutes();return t===!0?e<10?"0"+e:""+e:e}),e.getSecond=(t=>{let e=n.getSeconds();return t===!0?e<10?"0"+e:""+e:e})}});global.CREATE_DATE=METHOD({run:e=>{let o=e.year,t=e.month,i=e.date,d=e.hour,n=e.minute,v=e.second,a=CALENDAR(new Date);return void 0===o&&(o=a.getYear()),void 0===t&&(t=void 0===i?0:a.getMonth()),void 0===i&&(i=void 0===d?0:a.getDate()),void 0===d&&(d=void 0===n?0:a.getHour()),void 0===n&&(n=void 0===v?0:a.getMinute()),void 0===v&&(v=0),new Date(o,t-1,i,d,n,v)}});global.DELAY=CLASS({init:(o,n,e,i)=>{void 0===i&&(i=e,e=0);let t,u,c=Date.now(),a=t=1e3*e,f=(n.resume=RAR(()=>{void 0===u&&(u=setTimeout(()=>{i(),m()},a))}),n.pause=(()=>{a=t-(Date.now()-c),clearTimeout(u),u=void 0})),m=n.remove=(()=>{f()})}});global.INTERVAL=CLASS({init:(n,e,o,t)=>{void 0===t&&(t=o,o=0);let i,a,u=Date.now(),c=i=0===o?1:1e3*o,v=0,f=(e.resume=RAR(()=>{void 0===a&&(a=setInterval(()=>{v+=1,t(e,v)===!1&&l(),u=Date.now()},c))}),e.pause=(()=>{c=i-(Date.now()-u),clearInterval(a),a=void 0})),l=e.remove=(()=>{f()})}});global.LOOP=CLASS(i=>{let n,e=[],t=[],o=()=>{if(void 0===n){let i=Date.now()/1e3;n=INTERVAL(()=>{let n=Date.now()/1e3,o=n-i;if(o>0){for(let a=0;a<e.length;a+=1){let i=e[a];if(void 0!==i.fps&&i.fps>0){void 0===i.timeSigma&&(i.timeSigma=0,i.countSigma=0);let n=parseInt(i.fps*o*(i.timeSigma/o+1),10)-i.countSigma;void 0!==i.start&&i.start();let e=i.interval;for(j=0;j<n;j+=1)e(i.fps);void 0!==i.end&&i.end(o),i.countSigma+=n,i.timeSigma+=o,i.timeSigma>1e3&&(i.timeSigma=void 0)}}for(let a=0;a<t.length;a+=1)t[a](o);i=n}})}},a=()=>{e.length<=0&&t.length<=0&&(n.remove(),n=void 0)};return{init:(i,n,f,u)=>{let r,m,s,c,v;if(void 0!==u){CHECK_IS_DATA(u)!==!0?s=u:(m=u.start,s=u.interval,c=u.end);let i=(n.resume=RAR(()=>{e.push(v={fps:f,start:m,interval:s,end:c}),o()}),n.pause=(()=>{REMOVE({array:e,value:v}),a()}));n.changeFPS=(i=>{v.fps=i}),n.remove=(()=>{i()})}else{let i=(n.resume=RAR(()=>{t.push(r=f),o()}),n.pause=(()=>{REMOVE({array:t,value:r}),a()}));n.remove=(()=>{i()})}}}});global.RAR=METHOD({run:(n,o)=>{return void 0===o&&(o=n,n=void 0),o(n),o}});global.RUN=METHOD({run:n=>{let r=()=>{return n(r)};return r()}});global.INTEGER=METHOD({run:n=>{return void 0===n?void 0:parseInt(n,10)}});global.RANDOM=METHOD({run:o=>{let i,n,a;return CHECK_IS_DATA(o)!==!0?a=o:(i=o.min,n=o.max,a=o.limit),void 0===i&&(i=0),void 0!==a&&(n=a-1),Math.floor(Math.random()*(n-i+1)+i)}});global.REAL=METHOD({run:o=>{return void 0===o?void 0:parseFloat(o)}});global.EACH=METHOD({run:(n,r)=>{if(void 0===n)return!1;if(CHECK_IS_DATA(n)===!0){for(let e in n)if((void 0===n.hasOwnProperty||n.hasOwnProperty(e)===!0)&&r(n[e],e)===!1)return!1}else{if(void 0===r)return r=n,n=void 0,n=>{return EACH(n,r)};{let e=n.length;for(let t=0;t<e;t+=1){if(r(n[t],t)===!1)return!1;n.length<e?(t-=e-n.length,e-=e-n.length):n.length>e&&(e+=n.length-e)}}}return!0}});global.REPEAT=METHOD({run:(i,r)=>{let o,e,n,t,f;if(void 0===r&&(r=i,i=void 0),void 0!==i&&(CHECK_IS_DATA(i)!==!0?o=i:(e=i.start,n=i.end,t=i.limit,f=i.step)),void 0===t&&void 0!==n&&(t=n+1),void 0===f&&(f=1),void 0!==o){for(let d=0;d<parseInt(o,10);d+=1)if(r(d)===!1)return!1}else if(void 0!==n&&e>n){for(let d=e;d>=n;d-=f)if(r(d)===!1)return!1}else{if(void 0===t)return i=>{return REPEAT(i,r)};for(let i=e;i<t;i+=f)if(r(i)===!1)return!1}return!0}});global.REVERSE_EACH=METHOD({run:(n,r)=>{if(void 0===n)return!1;if(void 0===r)return r=n,n=void 0,n=>{return REVERSE_EACH(n,r)};{let t=n.length;for(let E=t-1;E>=0;E-=1){if(r(n[E],E)===!1)return!1;n.length<t&&(E+=t-n.length)}}return!0}});global.ADD_FONT=METHOD({run:t=>{let e=t.name,o=t.style,f=t.weight,n=t.woff2,a=t.woff,d=t.otf,l=t.ttf,r="";void 0!==n&&(r+="url("+n+") format('woff2'),"),void 0!==a&&(r+="url("+a+") format('woff'),"),void 0!==d&&(r+="url("+d+") format('opentype'),"),void 0!==l&&(r+="url("+l+") format('truetype'),");let i="@font-face {";i+="font-family:"+e+";",void 0!==o&&(i+="font-style:"+o+";"),void 0!==f&&(i+="font-weight:"+f+";"),i+="src:"+r.substring(0,r.length-1)+";",i+="}";let m=document.createElement("style");m.type="text/css",m.appendChild(document.createTextNode(i)),document.getElementsByTagName("head")[0].appendChild(m)}});OVERRIDE(BOX,n=>{global.BOX=METHOD(O=>{return O.getAllBoxes=n.getAllBoxes,{run:O=>{return void 0===BROWSER_CONFIG[O]&&(BROWSER_CONFIG[O]={}),n(O)}}})});global.BROWSER_CONFIG={isSecure:"https:"===location.protocol,host:location.hostname,port:""===location.port?"https:"===location.protocol?443:80:INTEGER(location.port)};global.CONNECT_TO_WEB_SOCKET_SERVER=METHOD({run:(o,n)=>{let e,i,t,_,d,E,C,c,a,u={},s=0;CHECK_IS_DATA(o)!==!0?t=o:(e=o.isSecure,i=o.host,t=o.port),void 0===e&&(e=BROWSER_CONFIG.isSecure),void 0===i&&(i=BROWSER_CONFIG.host),CHECK_IS_DATA(n)!==!0?_=n:(_=n.success,d=n.error);let R=(o,n,e)=>{let i=u[o];void 0!==i&&EACH(i,o=>{o(n,o=>{void 0!==a&&void 0!==e&&a({methodName:"__CALLBACK_"+e,data:o})})})},S=new WebSocket((e===!0?"wss://":"ws://")+i+":"+t);S.onopen=(()=>{E=!0,_(C=((o,n)=>{let e=u[o];void 0===e&&(e=u[o]=[]),e.push(n)}),c=((o,n)=>{let e=u[o];void 0!==e&&(void 0!==n?REMOVE({array:e,value:n}):delete u[o])}),a=((o,n)=>{let e,i,t;CHECK_IS_DATA(o)!==!0?e=o:(e=o.methodName,i=o.data),void 0!==S&&(S.send(STRINGIFY({methodName:e,data:i,sendKey:s})),void 0!==n&&(t="__CALLBACK_"+s,C(t,o=>{n(o),c(t)})),s+=1)}),()=>{void 0!==S&&(S.close(),S=void 0)})}),S.onmessage=(o=>{let n=PARSE_STR(o.data);void 0!==n&&R(n.methodName,n.data,n.sendKey)}),S.onclose=(()=>{R("__DISCONNECTED")}),S.onerror=(o=>{let n=o.toString();E!==!0?void 0!==d?d(n):SHOW_ERROR("CONNECT_TO_WEB_SOCKET_SERVER",n):R("__ERROR",n)})}});global.COOKIE_STORE=CLASS({init:(n,e,t)=>{let i,o;CHECK_IS_DATA(t)!==!0?i=t:(i=t.storeName,o=t.domain);let u=n.genFullName=(n=>{return i+"."+n}),s=(e.save=(n=>{let e,t=n.name,i=n.value,s=n.isToSession;s===!0?e=0:(e=new Date,e.setDate(e.getDate()+356)),document.cookie=u(t)+"="+encodeURIComponent(JSON.stringify(i))+"; expires="+(0===e?e:e.toGMTString())+"; path=/;"+(void 0===o?"":" domain="+o+";")}),e.get=(n=>{n=u(n)+"=";let e,t=document.cookie,i=t.indexOf(n);if(t&&i>=0){let o=t.substring(i,t.length),u=o.indexOf(";");e=u>0?o.substring(n.length,u):o.substring(n.length)}return void 0===e?void 0:JSON.parse(decodeURIComponent(e))}),e.remove=(n=>{let e=new Date;e.setDate(e.getDate()-1),document.cookie=u(n)+"=; expires="+e.toGMTString()+"; path=/;"+(void 0===o?"":" domain="+o+";")}));e.all=(()=>{let n={};return EACH(document.cookie.split(";"),e=>{let t=e.indexOf("="),o=e.substring(0,t);0===o.indexOf(i+".")&&(n[o.substring(i.length+1)]=e.substring(t+1))}),n}),e.count=(()=>{let n=0;return EACH(document.cookie.split(";"),e=>{let t=e.indexOf("="),o=e.substring(0,t);0===o.indexOf(i+".")&&(n+=1)}),n}),e.clear=(()=>{EACH(document.cookie.split(";"),n=>{let e=n.indexOf("="),t=n.substring(0,e);0===t.indexOf(i+".")&&s(t.substring(i.length+1))})})}}),FOR_BOX(n=>{n.COOKIE_STORE=CLASS({init:(e,t,i)=>{let o,u;CHECK_IS_DATA(i)!==!0?o=i:(o=i.storeName,u=i.domain);let s=COOKIE_STORE({storeName:n.boxName+"."+o,domain:u});t.save=s.save,t.get=s.get,t.remove=s.remove,t.all=s.all,t.count=s.count,t.clear=s.clear}})});global.INFO=OBJECT({init:(n,e)=>{let o="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,t=(e.getLang=(()=>{let n=STORE("__INFO").get("lang");return void 0===n&&(n=navigator.language.toLowerCase()),n}),e.setLang=(n=>{STORE("__INFO").save({name:"lang",value:n})}));e.changeLang=(n=>{t(n),location.reload()}),e.checkIsTouchDevice=(()=>{return o}),e.getOSName=(()=>{return bowser.osname}),e.getBrowserName=(()=>{return bowser.name}),e.getBrowserVersion=(()=>{return REAL(bowser.version)})}});OVERRIDE(LOOP,n=>{global.LOOP=CLASS(n=>{let i,e,t=[],a=[],o=()=>{if(void 0===e){let n;i=performance.now()/1e3,e=requestAnimationFrame(n=(o=>{let r=o/1e3,f=r-i;if(f>0){i=r;for(let n=0;n<t.length;n+=1){let i=t[n];if(void 0!==i.fps&&i.fps>0){void 0===i.timeSigma&&(i.timeSigma=0,i.countSigma=0);let n=parseInt(i.fps*f*(i.timeSigma/f+1),10)-i.countSigma;void 0!==i.start&&i.start();let e=i.interval;for(let t=0;t<n;t+=1)e(i.fps);void 0!==i.end&&i.end(f),i.countSigma+=n,i.timeSigma+=f,i.timeSigma>1e3&&(i.timeSigma=void 0)}}for(let n=0;n<a.length;n+=1)a[n](f)}e=requestAnimationFrame(n)}))}},r=()=>{t.length<=0&&a.length<=0&&(cancelAnimationFrame(e),e=void 0)};return{init:(n,i,e,f)=>{let u,m,c,s;if(void 0!==f){let n,a,g,v;CHECK_IS_DATA(f)!==!0?a=f:(n=f.start,a=f.interval,g=f.end),u=i.resume=RAR(()=>{t.push(v={fps:e,start:n,interval:a,end:g}),o()}),m=i.pause=(()=>{REMOVE({array:t,value:v}),r()}),c=i.changeFPS=(n=>{v.fps=n}),s=i.remove=(()=>{m()})}else{let n;u=i.resume=RAR(()=>{a.push(n=e),o()}),m=i.pause=(()=>{REMOVE({array:a,value:n}),r()}),s=i.remove=(()=>{m()})}}}})});OVERRIDE(MSG,n=>{global.MSG=METHOD({run:n=>{let t=n[INFO.getLang()];return void 0===t&&(t=n[INFO.getLang().substring(0,2)],void 0===t&&EACH(n,n=>{return t=n,!1})),t}})});global.SOUND=CLASS(o=>{let n;return{init:(o,e,i)=>{let t=i.ogg,a=i.mp3,u=i.wav,d=i.isLoop,c=i.gain;void 0===c&&(c=.5);let f,r,v,p,s=0,g=0;void 0===n&&(n=new AudioContext);let l=""!==(new Audio).canPlayType("audio/ogg")?t:a;void 0===l&&(l=u);let w=new XMLHttpRequest;w.open("GET",l,!0),w.responseType="arraybuffer",w.onload=(()=>{n.decodeAudioData(w.response,o=>{v=n.createGain(),f=o,v.connect(n.destination),v.gain.value=c,void 0!==p&&p()})}),w.send();e.play=(()=>{return p=(()=>{r=n.createBufferSource(),r.buffer=f,r.connect(v),r.loop=d,s=Date.now()-g,r.start(0,g/1e3),p=void 0}),void 0!==f&&p(),e}),e.pause=(()=>{void 0!==r&&(r.stop(0),g=Date.now()-s),p=void 0}),e.stop=(()=>{void 0!==r&&(r.stop(0),g=0,r=void 0),p=void 0}),e.setGain=(o=>{c=o,void 0!==v&&(v.gain.value=c)})}}});global.SOUND_ONCE=CLASS({preset:()=>{return SOUND},init:(n,t,i)=>{t.play()}});global.STORE=CLASS({init:(n,e,t)=>{let o=n=>{return t+"."+n},l=(e.save=(n=>{let e=n.name,t=n.value;localStorage.setItem(o(e),STRINGIFY(t))}),e.get=(n=>{let e=PARSE_STR(localStorage.getItem(o(n)));return e===TO_DELETE&&(e=void 0),e}),e.remove=(n=>{localStorage.removeItem(o(n))}));e.all=(()=>{let n={};return EACH(localStorage,(e,o)=>{0===o.indexOf(t+".")&&(n[o.substring(t.length+1)]=PARSE_STR(e))}),n}),e.count=(()=>{let n=0;return EACH(localStorage,(e,o)=>{0===o.indexOf(t+".")&&(n+=1)}),n}),e.clear=(()=>{EACH(localStorage,(n,e)=>{0===e.indexOf(t+".")&&l(e.substring(t.length+1))})})}}),FOR_BOX(n=>{n.STORE=CLASS({init:(e,t,o)=>{let l=STORE(n.boxName+"."+o);t.save=l.save,t.get=l.get,t.remove=l.remove,t.all=l.all,t.count=l.count,t.clear=l.clear}})});FOR_BOX(O=>{O.SHOW_ERROR=METHOD({run:(R,n,o)=>{SHOW_ERROR(O.boxName+"."+R,n,o)}})});FOR_BOX(n=>{n.SHOW_WARNING=METHOD({run:(N,O,W)=>{SHOW_WARNING(n.boxName+"."+N,O,W)}})});global.ADD_STYLE=METHOD({run:e=>{let n=e.node,o=e.style,t=n.getWrapperEl();EACH(o,(e,o)=>{if(void 0!==e)if("onDisplayResize"===o){let o=EVENT({name:"resize"},RAR(()=>{ADD_STYLE({node:n,style:e(WIN_WIDTH(),WIN_HEIGHT())})}));n.on("remove",()=>{o.remove()})}else"flt"===o?t.style.cssFloat=e:"number"==typeof e&&"zIndex"!==o&&"opacity"!==o?t.style[o]=e+"px":"backgroundImage"===o&&"none"!==e?t.style[o]="url("+e+")":t.style[o]=e})}});global.ANIMATE=METHOD(e=>{let t=0;return{run:(e,n)=>{let o,i,d=e.node,a=e.keyframes,r=void 0===e.duration?1:e.duration,c=void 0===e.timingFunction?"ease":e.timingFunction,u=void 0===e.delay?0:e.delay,l=void 0===e.iterationCount?1:e.iterationCount,m=void 0===e.direction?"normal":e.direction,y="__KEYFRAMES_"+t,s="";t+=1,EACH(a,(e,t)=>{s+=t+"{",EACH(e,(e,t)=>{"number"==typeof e&&"zIndex"!==t&&"opacity"!==t&&(e+="px"),s+=t.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+e+";"}),s+="}","from"===t||"0%"===t?o=e:"to"!==t&&"100%"!==t||(i=e)});let f=document.createElement("style");f.type="text/css",f.appendChild(document.createTextNode("@keyframes "+y+"{"+s+"}")),document.getElementsByTagName("head")[0].appendChild(f),d.addStyle(o),d.addStyle({animation:y+" "+r+"s "+c+" "+u+"s "+l+" "+m}),d.addStyle(i),void 0!==n&&1===l&&DELAY(r,()=>{n(d)})}}});global.CLEAR_BOTH=METHOD({run:()=>{return DIV({style:{clear:"both"}})}});global.DOM=CLASS({preset:()=>{return NODE},init:(e,t,n)=>{let o=n.tag,d=n.el,u=n.id,a=n.cls,c=n.__TEXT;void 0!==o?d="body"===o?document.body:"__STRING"===o?document.createTextNode(c):document.createElement(o):d!==document.body&&d.parentNode!==TO_DELETE&&t.setParent(DOM({el:d.parentNode}));let i=(t.getEl=(()=>{return d}),e.setEl=(n=>{d=n,e.setDom(t)}));i(d);let l=e.setAttr=(e=>{let t=e.name,n=e.value;d.setAttribute(t,n)});void 0!==u&&l({name:"id",value:u}),void 0!==a&&l({name:"class",value:a})}});global.NODE=CLASS({init:(e,n,t)=>{let o,i,r,d,f,l,u,c,E,a=[],s=e.setWrapperDom=(e=>{o=e,r=e.getEl(),c=N("display"),S("show",()=>{EACH(a,e=>{e.checkIsShowing()===!0&&(EVENT.fireAll({node:e,name:"show"}),EVENT.removeAll({node:e,name:"show"}))})})}),g=e.setContentDom=(e=>{i=e,d=e.getEl()}),T=(e.setDom=(e=>{s(e),g(e)}),n.getWrapperDom=(()=>{return o}),n.getContentDom=(()=>{return i}),n.getWrapperEl=(()=>{return r}),n.getContentEl=(()=>{return d}),(e,t)=>{A(e),void 0===t?u.getChildren().push(n):u.getChildren().splice(t,0,n),m("attach"),I()===!0&&(m("show"),EVENT.removeAll({node:n,name:"show"})),void 0!==f&&EACH(f,e=>{h(e)}),void 0!==l&&EACH(l,e=>{_(e)}),u.fireEvent("append")}),p=n.append=(e=>{if(CHECK_IS_DATA(e)===!0)e.appendTo(n);else if(n.type===TEXTAREA)p(DOM({tag:"__STRING",__TEXT:String(void 0===e?"":e)}));else{let n=String(void 0===e?"":e).split("\n");EACH(n,(e,t)=>{p(DOM({tag:"__STRING",__TEXT:e})),t<n.length-1&&p(BR())})}}),v=(n.appendTo=(e=>{let t=e.getContentEl();return void 0!==t&&(t.appendChild(r),T(e)),n}),n.prepend=(e=>{if(CHECK_IS_DATA(e)===!0)e.prependTo(n);else if(n.type===TEXTAREA)v(DOM({tag:"__STRING",__TEXT:String(void 0===e?"":e)}));else{let n=String(void 0===e?"":e).split("\n");REPEAT({start:n.length-1,end:0},e=>{v(DOM({tag:"__STRING",__TEXT:n[e]})),e<n.length-1&&v(BR())})}})),h=(n.prependTo=(e=>{let t=e.getContentEl();return void 0!==t&&(void 0===t.childNodes[0]?t.appendChild(r):t.insertBefore(r,t.childNodes[0]),T(e,0)),n}),n.after=(e=>{if(void 0!==r)if(r.parentNode===TO_DELETE)void 0===f&&(f=[]),f.push(e);else if(CHECK_IS_DATA(e)===!0)e.insertAfter(n);else{let n=String(void 0===e?"":e).split("\n");REPEAT({start:n.length-1,end:0},e=>{h(DOM({tag:"__STRING",__TEXT:n[e]})),e<n.length-1&&h(BR())})}})),_=(n.insertAfter=(e=>{let t=e.getWrapperEl();if(void 0!==t){t.parentNode.insertBefore(r,t.nextSibling);let o=FIND({array:e.getParent().getChildren(),value:n}),i=FIND({array:e.getParent().getChildren(),value:e})+1;T(e.getParent(),o<i?i-1:i)}return n}),n.before=(e=>{if(void 0!==r)if(r.parentNode===TO_DELETE)void 0===l&&(l=[]),l.push(e);else if(CHECK_IS_DATA(e)===!0)e.insertBefore(n);else{let n=String(void 0===e?"":e).split("\n");EACH(n,(e,t)=>{_(DOM({tag:"__STRING",__TEXT:e})),t<n.length-1&&_(BR())})}})),A=(n.insertBefore=(e=>{let t=e.getWrapperEl();return void 0!==t&&(t.parentNode.insertBefore(r,t),T(e.getParent(),FIND({array:e.getParent().getChildren(),value:e}))),n}),n.getChildren=(()=>{return a}),n.setParent=(e=>{void 0!==u&&REMOVE({array:u.getChildren(),value:n}),u=e})),C=(n.getParent=(()=>{return u}),n.empty=(()=>{EACH(a,e=>{e.remove()})})),S=(n.remove=(()=>{void 0!==r&&r.parentNode!==TO_DELETE&&(C(),r.parentNode.removeChild(r),A(void 0),m("remove"),EVENT.removeAll({node:n}),r=void 0,d=void 0),E=void 0}),n.on=((e,t)=>{EVENT({node:n,name:e},t)})),m=(n.off=((e,t)=>{void 0!==t?EVENT.remove({node:n,name:e},t):EVENT.removeAll({node:n,name:e})}),n.fireEvent=(e=>{return EVENT.fireAll({node:n,name:e})})),D=n.addStyle=(e=>{ADD_STYLE({node:n,style:e})}),N=n.getStyle=(e=>{if(void 0!==r){let n=r.style;if(void 0!==n){let t=n[e];return""===t?void 0:"px"===t.substring(t.length-2)?REAL(t):t}}}),I=(n.getWidth=(()=>{return r.offsetWidth}),n.getInnerWidth=(()=>{return r.clientWidth}),n.getHeight=(()=>{return r.offsetHeight}),n.getInnerHeight=(()=>{return r.clientHeight}),n.getLeft=(()=>{let e=0,n=r;do e+=n.offsetLeft-(n===document.body?0:n.scrollLeft),n=n.offsetParent;while(n!==TO_DELETE);return e}),n.getTop=(()=>{let e=0,n=r;do e+=n.offsetTop-(n===document.body?0:n.scrollTop),n=n.offsetParent;while(n!==TO_DELETE);return e}),n.hide=(()=>{D({display:"none"})}),n.show=(()=>{D({display:void 0===c?"":c}),I()===!0&&(EVENT.fireAll({node:n,name:"show"}),EVENT.removeAll({node:n,name:"show"}))}),n.checkIsHiding=(()=>{return I()!==!0}),n.checkIsShowing=(()=>{return r===document.body||void 0!==u&&u.checkIsShowing()===!0&&"none"!==N("display")}));n.scrollTo=(e=>{let n=e.left,t=e.top;void 0!==d&&(void 0!==n&&(d.scrollLeft=n),void 0!==t&&(d.scrollTop=t))}),n.getScrollLeft=(()=>{return void 0!==d?d.scrollLeft:0}),n.getScrollTop=(()=>{return void 0!==d?d.scrollTop:0}),n.getScrollWidth=(()=>{return void 0!==d?d.scrollWidth:0}),n.getScrollHeight=(()=>{return void 0!==d?d.scrollHeight:0}),n.setData=(e=>{E=e}),n.getData=(()=>{return E})},afterInit:(e,n,t)=>{let o,i,r;void 0!==t&&(o=t.style,i=void 0===t.c||CHECK_IS_ARRAY(t.c)===!0?t.c:[t.c],r=t.on),void 0!==o&&n.addStyle(o),void 0!==r&&EACH(r,(e,t)=>{n.on(t,e)}),void 0!==i&&EACH(i,(e,t)=>{n.append(e)})}});global.E=CLASS({init:(e,n,t)=>{let o,c=t.e,i=t.el,u=(e,n)=>{let t=n.parentNode;for(;t!==TO_DELETE;){if(t===e)return!0;t=t.parentNode}return!1},r=n.stopDefault=(()=>{c.preventDefault()}),a=n.stopBubbling=(()=>{c.stopPropagation(),o=!0});n.checkIsBubblingStoped=(()=>{return o}),n.stop=(()=>{r(),a()}),n.getLeft=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==c.changedTouches&&void 0!==c.changedTouches[0]){let e;if(EACH(c.changedTouches,n=>{if(void 0!==n.target&&u(i,n.target)===!0)return e=n.pageX,!1}),void 0===e&&(e=c.changedTouches[0].pageX),void 0!==e)return e}return c.pageX}),n.getTop=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==c.changedTouches&&void 0!==c.changedTouches[0]){let e;if(EACH(c.changedTouches,n=>{if(void 0!==n.target&&u(i,n.target)===!0)return e=n.pageY,!1}),void 0===e&&(e=c.changedTouches[0].pageY),void 0!==e)return e}return c.pageY}),n.getPositions=(()=>{if(INFO.checkIsTouchDevice()===!0&&void 0!==c.changedTouches&&void 0!==c.changedTouches[0]){let e=[];return EACH(c.changedTouches,n=>{e.push({left:n.pageX,top:n.pageY})}),e}return[{left:c.pageX,top:c.pageY}]}),n.getKey=(()=>{return c.key}),n.getWheelDelta=(()=>{return c.deltaY}),n.getFiles=(()=>{return void 0===c.dataTransfer?void 0:c.dataTransfer.files})}});global.EMPTY_E=CLASS({init:(t,n)=>{n.stopDefault=(()=>{}),n.stopBubbling=(()=>{}),n.stop=(()=>{}),n.getLeft=(()=>{return-(1/0)}),n.getTop=(()=>{return-(1/0)}),n.getPositions=(()=>{return[]}),n.getKey=(()=>{return""}),n.getWheelDelta=(()=>{return 0})}});global.EVENT=CLASS(e=>{let o={};e.fireAll=(e=>{let n,c,i,u,d;if(CHECK_IS_DATA(e)!==!0?c=e:(n=e.node,c=e.name),i=void 0===n?"body":n.id,u=o[i],void 0!==u){let e=u[c];void 0!==e&&EACH(e,e=>{e.fire()===!1&&(d=!1)})}return d}),e.removeAll=(e=>{let n,c,i,u;if(CHECK_IS_DATA(e)!==!0?c=e:(n=e.node,c=e.name),i=void 0===n?"body":n.id,u=o[i],void 0!==u)if(void 0!==c){let e=u[c];void 0!==e&&EACH(e,e=>{e.remove()})}else EACH(u,e=>{EACH(e,e=>{e.remove()})})}),e.remove=((e,n)=>{let c,i,u,d;if(CHECK_IS_DATA(e)!==!0?i=e:(c=e.node,i=e.name),u=void 0===c?"body":c.id,d=o[u],void 0!==d){let e=d[i];void 0!==e&&EACH(e,e=>{e.getEventHandler()===n&&e.remove()})}});return{init:(e,n,c,i)=>{let u,d,t,E,v,h,s=[];CHECK_IS_DATA(c)!==!0?t=c:(u=c.node,d=c.lowNode,t=c.name,void 0===d&&(d=u)),E=void 0===u?"body":u.id,void 0===o[E]&&(o[E]={}),void 0===o[E][t]&&(o[E][t]=[]),o[E][t].push(n);let f=()=>{let e=o[E][t];void 0!==e&&(REMOVE({array:e,value:n}),e.length<=0&&delete o[E][t]),CHECK_IS_EMPTY_DATA(o[E])===!0&&delete o[E]};if("tap"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"click"},i));else if("doubletap"===t)v=EVENT({node:u,name:"tap"},e=>{void 0===h?h=Date.now():(Date.now()-h<600&&i(e,u),h=void 0,getSelection().removeAllRanges())});else if("touchstart"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"touchstart"},(e,o)=>{INFO.checkIsTouchDevice()===!0&&i(e,o)})),s.push(EVENT_LOW({node:u,lowNode:d,name:"mousedown"},(e,o)=>{INFO.checkIsTouchDevice()!==!0&&i(e,o)}));else if("touchmove"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"touchmove"},(e,o)=>{INFO.checkIsTouchDevice()===!0&&i(e,o)})),s.push(EVENT_LOW({node:u,lowNode:d,name:"mousemove"},(e,o)=>{INFO.checkIsTouchDevice()!==!0&&i(e,o)}));else if("touchend"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"touchend"},(e,o)=>{INFO.checkIsTouchDevice()===!0&&i(e,o)})),s.push(EVENT_LOW({node:u,lowNode:d,name:"mouseup"},(e,o)=>{INFO.checkIsTouchDevice()!==!0&&i(e,o)}));else if("mouseover"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"touchstart"},(e,o)=>{INFO.checkIsTouchDevice()===!0&&i(e,o)})),s.push(EVENT_LOW({node:u,lowNode:d,name:"mouseover"},(e,o)=>{INFO.checkIsTouchDevice()!==!0&&i(e,o)}));else if("mouseout"===t)s.push(EVENT_LOW({node:u,lowNode:d,name:"touchend"},(e,o)=>{INFO.checkIsTouchDevice()===!0&&i(e,o)})),s.push(EVENT_LOW({node:u,lowNode:d,name:"mouseout"},(e,o)=>{INFO.checkIsTouchDevice()!==!0&&i(e,o)}));else if("keydown"===t){let e;s.push(EVENT_LOW({node:u,lowNode:d,name:"keydown"},(o,n)=>{e!==o.getKey()&&(i(o,n),e=o.getKey())})),s.push(EVENT_LOW({node:u,lowNode:d,name:"keyup"},(o,n)=>{e=void 0}))}else"attach"!==t&&"show"!==t&&"remove"!==t&&s.push(EVENT_LOW(c,i));n.remove=(()=>{EACH(s,e=>{e.remove()}),void 0!==v&&v.remove(),f()}),n.fire=(()=>{return i(EMPTY_E(),u)}),n.getEventHandler=(()=>{return i})}}});global.EVENT_LOW=CLASS({init:(e,o,n,t)=>{let i,l,r,d,a;CHECK_IS_DATA(n)!==!0?r=n:(i=n.node,l=n.lowNode,r=n.name,void 0===l&&(l=i)),d=void 0!==l?l.getWrapperEl():void 0===global["on"+r]?document:global,d.addEventListener(r,a=(e=>{let o=t(E({e:e,el:d}),i);return"beforeunload"===r&&void 0!==o&&(e.returnValue=o),o}),!1);o.remove=(()=>{d.removeEventListener(r,a,!1)})}});global.EVENT_ONCE=CLASS({init:(n,e,i,o)=>{let f=EVENT(i,(n,e)=>{o(n,e),f.remove()});e.remove=(()=>{f.remove()}),e.fire=(()=>{f.fire()})}});global.A=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"a"}},init:(n,t,e)=>{let i,a,o;void 0!==e&&(i=e.style,a=e.href,o=e.target);let r=t.setHref=(t=>{n.setAttr({name:"href",value:t})});void 0!==a&&r(a),void 0!==o&&n.setAttr({name:"target",value:o});t.tap=(()=>{EVENT.fireAll({node:t,name:"tap"})})},afterInit:(n,t,e)=>{let i,a,o,r,f=!1;void 0!==e&&(i=e.c,a=e.href),void 0===i&&void 0!==a&&(t.append(a),f=!0,OVERRIDE(t.append,n=>{o=t.append=(e=>{f===!0&&(t.empty(),f=!1),n(e)})}),OVERRIDE(t.prepend,n=>{r=t.prepend=(e=>{f===!0&&(t.empty(),f=!1),n(e)})}))}});global.AUDIO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"audio"}},init:(t,o,e)=>{let n=e.mp3,l=e.ogg,a=e.isLoop;void 0!==l&&""!==o.getEl().canPlayType("audio/ogg")?o.getEl().src=l:void 0!==n&&(o.getEl().src=n),t.setAttr({name:"controls",value:"controls"}),a===!0&&t.setAttr({name:"loop",value:"loop"});o.play=(()=>{o.getEl().play()}),o.pause=(()=>{o.getEl().pause()}),o.stop=(()=>{o.getEl().pause(),o.getEl().currentTime=0})}});global.BODY=OBJECT({preset:()=>{return DOM},params:()=>{return{tag:"body"}}});global.BR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"br"}}});global.CANVAS=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"canvas"}},init:(t,i,e)=>{let n,h;void 0!==e&&(n=e.width,h=e.height);let o=(i.getContext=(t=>{return i.getEl().getContext(t)}),i.setSize=(t=>{let e=i.getEl();void 0!==t.width&&(n=t.width),void 0!==t.height&&(h=t.height),void 0!==n&&(e.width=n),void 0!==h&&(e.height=h)}));o({width:n,height:h});i.getWidth=(()=>{return n}),i.getHeight=(()=>{return h}),i.getDataURL=(()=>{return i.getEl().toDataURL()})}});global.DIV=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"div"}}});global.FOOTER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"footer"}}});global.FORM=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"form"}},init:(t,e,n)=>{let i,a,o,u,d,m;void 0!==n&&(i=n.action,a=n.target,o=n.method,u=n.enctype),void 0!==i?t.setAttr({name:"action",value:i}):EVENT({node:e,name:"submit"},t=>{t.stop()}),void 0!==a&&t.setAttr({name:"target",value:a}),void 0!==o&&t.setAttr({name:"method",value:o}),void 0!==u&&t.setAttr({name:"enctype",value:u}),OVERRIDE(e.setData,t=>{d=e.getData=(()=>{let n=t(),i=t=>{EACH(t.getChildren(),t=>{void 0!==t.getValue&&void 0!==t.getName&&void 0!==t.getName()&&(n[t.getName()]=t.getValue()),i(t)})};return void 0===n&&(n={}),i(e),n})}),OVERRIDE(e.setData,t=>{m=e.setData=(n=>{let i=t=>{EACH(t.getChildren(),t=>{let e;void 0!==t.setValue&&void 0!==t.getName&&void 0!==t.getName()&&(e=n[t.getName()],t.setValue(void 0===e?"":e)),i(t)})};i(e),t(n)})});e.submit=(()=>{EVENT.fireAll({node:e,name:"submit"}),void 0!==i&&e.getEl().submit()})}});global.H1=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h1"}}});global.H2=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h2"}}});global.H3=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h3"}}});global.H4=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h4"}}});global.H5=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h5"}}});global.H6=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"h6"}}});global.HEADER=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"header"}}});global.IFRAME=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"iframe",style:{border:"none"}}},init:(n,t,e)=>{let r,a;void 0!==e&&(r=e.name,a=e.src),void 0!==r&&n.setAttr({name:"name",value:r});let i=t.setSrc=(t=>{a=t,n.setAttr({name:"src",value:a})});void 0!==a&&i(a);t.getSrc=(()=>{return a})}});global.IMG=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"img"}},init:(t,i,e)=>{let n=e.src,h=e.width,r=e.height,u=i.getEl(),g=(i.getWidth=(()=>{return u.width}),i.getHeight=(()=>{return u.height}),i.setSize=(t=>{let i=t.width,e=t.height;void 0!==i&&(u.width=i),void 0!==e&&(u.height=e)}));g({width:h,height:r});let c=(i.getSrc=(()=>{return n}),i.setSrc=(i=>{n=i,t.setAttr({name:"src",value:n})}));void 0!==n&&c(n)}});global.INPUT=CLASS(e=>{let t=[],n=e.getFocusingInputIds=(e=>{return t});return{preset:()=>{return DOM},params:()=>{return{tag:"input"}},init:(e,t,c)=>{let l,a,o,u,i,E,d,r,g,f,h,m,v,s,k,p,A;void 0!==c&&(l=c.name,a=c.type,o=c.placeholder,u=c.min,i=c.max,E=c.step,d=c.accept,r=c.isMultiple,g=c.isOffAutocomplete),void 0!==a&&e.setAttr({name:"type",value:a}),"submit"!==a&&"reset"!==a&&(void 0!==l&&e.setAttr({name:"name",value:l}),void 0!==o&&e.setAttr({name:"placeholder",value:o}),void 0!==d&&e.setAttr({name:"accept",value:d}),r===!0&&e.setAttr({name:"multiple",value:r}),g===!0&&e.setAttr({name:"autocomplete",value:"off"}),f=t.getName=(()=>{return l}),h=t.getValue=(()=>{return"checkbox"===a||"radio"===a?t.getEl().checked:t.getEl().value}),v=t.select=(()=>{"file"===a?t.getEl().click():t.getEl().select()}),s=t.focus=(()=>{t.getEl().focus()}),k=t.blur=(()=>{t.getEl().blur()}),"checkbox"!==a&&"radio"!==a||(p=t.toggleCheck=(e=>{return t.getEl().checked===!0?t.getEl().checked=!1:t.getEl().checked=!0,EVENT.fireAll({node:t,name:"change"}),t.getEl().checked}),A=t.checkIsChecked=(()=>{return t.getEl().checked}),EVENT({node:t,name:"keyup"},e=>{void 0!==e&&"Enter"===e.getKey()&&DELAY(()=>{EVENT.fireAll({node:t,name:"change"})})}))),"range"===a&&(void 0!==u&&e.setAttr({name:"min",value:u}),void 0!==i&&e.setAttr({name:"max",value:i}),void 0!==E&&e.setAttr({name:"step",value:E})),t.setValue=m=(e=>{"checkbox"===a||"radio"===a?e===!0?t.getEl().checked!==!0?(t.getEl().checked=!0,EVENT.fireAll({node:t,name:"change"})):t.getEl().checked=!0:t.getEl().checked===!0?(t.getEl().checked=!1,EVENT.fireAll({node:t,name:"change"})):t.getEl().checked=!1:t.getEl().value!==e?(t.getEl().value=e,EVENT.fireAll({node:t,name:"change"})):t.getEl().value=e}),EVENT({node:t,name:"focus"},()=>{n().push(t.id)}),EVENT({node:t,name:"blur"},()=>{REMOVE({array:n(),value:t.id})}),t.on("remove",()=>{REMOVE({array:n(),value:t.id})}),"radio"===a&&EVENT({node:t,name:"touchstart"},()=>{A()===!0&&EVENT_ONCE({node:t,name:"touchend"},()=>{DELAY(()=>{m(!1)})})})},afterInit:(e,t,n)=>{let c,l;void 0!==n&&(c=n.type,l=n.value),void 0!==l&&("checkbox"===c||"radio"===c?l===!0?t.getEl().checked!==!0?t.getEl().checked=!0:t.getEl().checked=!0:t.getEl().checked===!0?t.getEl().checked=!1:t.getEl().checked=!1:t.getEl().value!==l?t.getEl().value=l:t.getEl().value=l)}}});global.LI=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"li"}}});global.OPTGROUP=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"optgroup"}},init:(t,n,e)=>{let a=e.label;t.setAttr({name:"label",value:a})}});global.OPTION=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"option"}},init:(t,e,n)=>{e.getValue=(()=>{return e.getEl().value}),e.setValue=(t=>{e.getEl().value=t})},afterInit:(t,e,n)=>{let u,a;void 0!==n&&(u=n.value,a=n.c),void 0===u?e.setValue(""):(e.setValue(u),void 0===a&&e.append(u))}});global.P=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"p"}}});global.SELECT=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"select"}},init:(e,n,t)=>{let u,o=!1;void 0!==t&&(u=t.name),void 0!==u&&e.setAttr({name:"name",value:u});n.getName=(()=>{return u}),n.getValue=(()=>{return n.getEl().value}),n.setValue=(e=>{n.getEl().value!==e?(n.getEl().value=e,EVENT.fireAll({node:n,name:"change"})):n.getEl().value=e}),n.select=(()=>{n.getEl().select()}),n.focus=(()=>{n.getEl().focus()}),n.blur=(()=>{n.getEl().blur()});EVENT({node:n,name:"keydown"},e=>{"Control"===e.getKey()?o=!0:o!==!0&&e.stopBubbling()}),EVENT({node:n,name:"keyup"},e=>{"Control"===e.getKey()&&(o=!1)}),EVENT({node:n,name:"focus"},()=>{INPUT.getFocusingInputIds().push(n.id)}),EVENT({node:n,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:n.id})}),n.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:n.id})})},afterInit:(e,n,t)=>{let u;void 0!==t&&(u=t.value),void 0!==u&&(n.getEl().value!==u?n.getEl().value=u:n.getEl().value=u)}});global.SPAN=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"span"}}});global.TABLE=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"table"}}});global.TD=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"td"}},init:(n,t,a)=>{let o,e;void 0!==a&&(o=a.rowspan,e=a.colspan),void 0!==o&&n.setAttr({name:"rowspan",value:o}),void 0!==e&&n.setAttr({name:"colspan",value:e})}});global.TEXTAREA=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"textarea"}},init:(e,n,t)=>{let u,o,a=!1;void 0!==t&&(u=t.name,o=t.placeholder),void 0!==u&&e.setAttr({name:"name",value:u}),void 0!==o&&e.setAttr({name:"placeholder",value:o});n.getName=(()=>{return u}),n.getValue=(()=>{return n.getEl().value}),n.setValue=(e=>{n.getEl().value!==e?(n.getEl().value=e,EVENT.fireAll({node:n,name:"change"})):n.getEl().value=e}),n.select=(()=>{n.getEl().select()}),n.focus=(()=>{n.getEl().focus()}),n.blur=(()=>{n.getEl().blur()});EVENT({node:n,name:"keydown"},e=>{"Control"===e.getKey()?a=!0:a!==!0&&e.stopBubbling()}),EVENT({node:n,name:"keyup"},e=>{"Control"===e.getKey()&&(a=!1)}),EVENT({node:n,name:"focus"},()=>{INPUT.getFocusingInputIds().push(n.id)}),EVENT({node:n,name:"blur"},()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:n.id})}),n.on("remove",()=>{REMOVE({array:INPUT.getFocusingInputIds(),value:n.id})})},afterInit:(e,n,t)=>{let u;void 0!==t&&(u=t.value),void 0!==u&&n.setValue(u)}});global.TH=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"th"}},init:(n,t,a)=>{let o,e;void 0!==a&&(o=a.rowspan,e=a.colspan),void 0!==o&&n.setAttr({name:"rowspan",value:o}),void 0!==e&&n.setAttr({name:"colspan",value:e})}});global.TR=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"tr"}}});global.UL=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"ul"}}});global.VIDEO=CLASS({preset:()=>{return DOM},params:()=>{return{tag:"video"}},init:(e,t,o)=>{let n=o.webm,l=o.ogg,a=o.mp4,s=(o.poster,o.isNoControls),i=o.isLoop,r=o.isMuted;void 0!==n&&""!==t.getEl().canPlayType("video/webm")?t.getEl().src=n:void 0!==l&&""!==t.getEl().canPlayType("video/ogg")?t.getEl().src=l:void 0!==a&&(t.getEl().src=a),s!==!0&&e.setAttr({name:"controls",value:"controls"}),i===!0&&e.setAttr({name:"loop",value:"loop"}),r===!0&&e.setAttr({name:"muted",value:"muted"});t.play=(()=>{t.getEl().play()}),t.pause=(()=>{t.getEl().pause()}),t.stop=(()=>{t.getEl().pause(),t.getEl().currentTime=0})}});!function(e,i,s){"undefined"!=typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd?define(i,s):e[i]=s()}(this,"bowser",function(){function e(e){function i(i){var s=e.match(i);return s&&s.length>1&&s[1]||""}function s(i){var s=e.match(i);return s&&s.length>1&&s[2]||""}function o(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}var r,n=i(/(ipod|iphone|ipad)/i).toLowerCase(),a=/like android/i.test(e),d=!a&&/android/i.test(e),m=/nexus\s*[0-6]\s*/i.test(e),v=!m&&/nexus\s*[0-9]+/i.test(e),p=/CrOS/.test(e),l=/silk/i.test(e),c=/sailfish/i.test(e),u=/tizen/i.test(e),f=/(web|hpw)os/i.test(e),h=/windows phone/i.test(e),w=(/SamsungBrowser/i.test(e),!h&&/windows/i.test(e)),b=!n&&!l&&/macintosh/i.test(e),g=!d&&!c&&!u&&!f&&/linux/i.test(e),k=i(/edge\/(\d+(\.\d+)?)/i),x=i(/version\/(\d+(\.\d+)?)/i),y=/tablet/i.test(e)&&!/tablet pc/i.test(e),S=!y&&/[^-]mobi/i.test(e),B=/xbox/i.test(e);/opera/i.test(e)?r={name:"Opera",opera:t,version:x||i(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(e)?r={name:"Opera",opera:t,version:i(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||x}:/SamsungBrowser/i.test(e)?r={name:"Samsung Internet for Android",samsungBrowser:t,version:x||i(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?r={name:"Opera Coast",coast:t,version:x||i(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:x||i(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?r={name:"UC Browser",ucbrowser:t,version:i(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?r={name:"Maxthon",maxthon:t,version:i(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?r={name:"Epiphany",epiphany:t,version:i(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?r={name:"Puffin",puffin:t,version:i(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?r={name:"Sleipnir",sleipnir:t,version:i(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?r={name:"K-Meleon",kMeleon:t,version:i(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:h?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:t},k?(r.msedge=t,r.version=k):(r.msie=t,r.version=i(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:i(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:p?r={name:"Chrome",osname:"Chrome OS",chromeos:t,chromeBook:t,chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:k}:/vivaldi/i.test(e)?r={name:"Vivaldi",vivaldi:t,version:i(/vivaldi\/(\d+(\.\d+)?)/i)||x}:c?r={name:"Sailfish",osname:"Sailfish OS",sailfish:t,version:i(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:i(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(r={name:"Firefox",firefox:t,version:i(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t,r.osname="Firefox OS")):l?r={name:"Amazon Silk",silk:t,version:i(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:i(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?r={name:"SlimerJS",slimer:t,version:i(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:t,version:x||i(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:f?(r={name:"WebOS",osname:"WebOS",webos:t,version:x||i(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):/bada/i.test(e)?r={name:"Bada",osname:"Bada",bada:t,version:i(/dolfin\/(\d+(\.\d+)?)/i)}:u?r={name:"Tizen",osname:"Tizen",tizen:t,version:i(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||x}:/qupzilla/i.test(e)?r={name:"QupZilla",qupzilla:t,version:i(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||x}:/chromium/i.test(e)?r={name:"Chromium",chromium:t,version:i(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||x}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:i(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:d?r={name:"Android",version:x}:/safari|applewebkit/i.test(e)?(r={name:"Safari",safari:t},x&&(r.version=x)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},x&&(r.version=x)):r=/googlebot/i.test(e)?{name:"Googlebot",googlebot:t,version:i(/googlebot\/(\d+(\.\d+))/i)||x}:{name:i(/^(.*)\/(.*) /),version:s(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(r.name=r.name||"Blink",r.blink=t):(r.name=r.name||"Webkit",r.webkit=t),!r.version&&x&&(r.version=x)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||i(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||r.msedge||!d&&!r.silk?r.windowsphone||r.msedge||!n?b?(r.mac=t,r.osname="macOS"):B?(r.xbox=t,r.osname="Xbox"):w?(r.windows=t,r.osname="Windows"):g&&(r.linux=t,r.osname="Linux"):(r[n]=t,r.ios=t,r.osname="iOS"):(r.android=t,r.osname="Android");var O="";r.windows?O=o(i(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?O=i(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?(O=i(/Mac OS X (\d+([_\.\s]\d+)*)/i),O=O.replace(/[_\s]/g,".")):n?(O=i(/os (\d+([_\s]\d+)*) like mac os x/i),O=O.replace(/[_\s]/g,".")):d?O=i(/android[ \/-](\d+(\.\d+)*)/i):r.webos?O=i(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?O=i(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?O=i(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(O=i(/tizen[\/\s](\d+(\.\d+)*)/i)),O&&(r.osversion=O);var T=!r.windows&&O.split(".")[0];return y||v||"ipad"==n||d&&(3==T||T>=4&&!S)||r.silk?r.tablet=t:(S||"iphone"==n||"ipod"==n||d||m||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=t:r.x=t,r}function i(e){return e.split(".").length}function s(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function o(e){for(var o=Math.max(i(e[0]),i(e[1])),r=s(e,function(e){var r=o-i(e);return e+=new Array(r+1).join(".0"),s(e.split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--o>=0;){if(r[0][o]>r[1][o])return 1;if(r[0][o]!==r[1][o])return-1;if(0===o)return 0}}function r(i,s,r){var n=a;"string"==typeof s&&(r=s,s=void 0),void 0===s&&(s=!1),r&&(n=e(r));var t=""+n.version;for(var d in i)if(i.hasOwnProperty(d)&&n[d]){if("string"!=typeof i[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(i));return o([t,i[d]])<0}return s}function n(e,i,s){return!r(e,i,s)}var t=!0,a=e("undefined"!=typeof navigator?navigator.userAgent||"":"");return a.test=function(e){for(var i=0;i<e.length;++i){var s=e[i];if("string"==typeof s&&s in a)return!0}return!1},a.isUnsupportedBrowser=r,a.compareVersions=o,a.check=n,a._detect=e,a});!function(t,e){"use strict";t.AudioContext=t.AudioContext||t.webkitAudioContext,t.OfflineAudioContext=t.OfflineAudioContext||t.webkitOfflineAudioContext;var o=AudioContext.prototype,r=new AudioContext,n=function(t,o){return t===e&&o!==e},c=r.createBufferSource().constructor.prototype;if(n(c.start,c.noteOn)||n(c.stop,c.noteOff)){var a=o.createBufferSource;o.createBufferSource=function(){var t=a.call(this);return t.start=t.start||t.noteOn,t.stop=t.stop||t.noteOff,t}}if("function"==typeof r.createOscillator){var i=r.createOscillator().constructor.prototype;if(n(i.start,i.noteOn)||n(i.stop,i.noteOff)){var s=o.createOscillator;o.createOscillator=function(){var t=s.call(this);return t.start=t.start||t.noteOn,t.stop=t.stop||t.noteOff,t}}}o.createGain===e&&o.createGainNode!==e&&(o.createGain=o.createGainNode),o.createDelay===e&&o.createDelayNode!==e&&(o.createDelay=o.createGainNode),o.createScriptProcessor===e&&o.createJavaScriptNode!==e&&(o.createScriptProcessor=o.createJavaScriptNode);var u=navigator.userAgent.indexOf("like Mac OS X")!==-1;if(u){var f=AudioContext;t.AudioContext=function(){function t(){r.start(0),r.connect(n),n.connect(e.destination)}var e=new f,o=document.body,r=e.createBufferSource(),n=e.createScriptProcessor(256,1,1);return o.addEventListener("touchstart",t,!1),n.onaudioprocess=function(){r.disconnect(),n.disconnect(),o.removeEventListener("touchstart",t,!1),n.onaudioprocess=null},e}}}(window);global.DELETE=METHOD({run:(E,T)=>{REQUEST(COMBINE([CHECK_IS_DATA(E)===!0?E:{url:E},{method:"DELETE"}]),T)}});global.GET=METHOD({run:(E,T)=>{REQUEST(COMBINE([CHECK_IS_DATA(E)===!0?E:{url:E},{method:"GET"}]),T)}});global.POST=METHOD({run:(E,T)=>{REQUEST(COMBINE([CHECK_IS_DATA(E)===!0?E:{url:E},{method:"POST"}]),T)}});global.PUT=METHOD({run:(E,T)=>{REQUEST(COMBINE([CHECK_IS_DATA(E)===!0?E:{url:E},{method:"PUT"}]),T)}});global.REQUEST=METHOD({run:(o,e)=>{let i,d,t=o.method,n=void 0===o.isSecure?BROWSER_CONFIG.isSecure:o.isSecure,r=void 0===o.host?BROWSER_CONFIG.host:o.host,s=void 0===o.port?void 0===o.host?BROWSER_CONFIG.port:80:o.port,v=o.uri,O=o.url,R=o.paramStr,c=o.params,u=o.data,h=o.headers;t=t.toUpperCase(),void 0!==O?(O.indexOf("?")!==-1&&(R=O.substring(O.indexOf("?")+1)+(void 0===R?"":"&"+R),O=O.substring(0,O.indexOf("?"))),n=void 0,r=void 0,s=void 0):void 0!==v&&v.indexOf("?")!==-1&&(R=v.substring(v.indexOf("?")+1)+(void 0===R?"":"&"+R),v=v.substring(0,v.indexOf("?"))),void 0!==c&&EACH(c,(o,e)=>{void 0===R?R="":R+="&",R+=encodeURIComponent(e)+"="+encodeURIComponent(o)}),void 0!==u&&(R=(void 0===R?"":R+"&")+"__DATA="+encodeURIComponent(STRINGIFY(u))),R=(void 0===R?"":R+"&")+Date.now(),void 0===O&&(O=(n===!0?"https://":"http://")+r+":"+s+"/"+(void 0===v?"":"/"===v[0]?v.substring(1):v)),CHECK_IS_DATA(e)!==!0?i=e:(i=e.success,d=e.error),("GET"===t||"DELETE"===t?fetch(O+"?"+R,{method:t,credentials:r===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)}):fetch(O,{method:t,body:R,credentials:r===BROWSER_CONFIG.host&&s===BROWSER_CONFIG.port?"include":void 0,headers:new Headers(void 0===h?{}:h)})).then(o=>{return o.text()}).then(o=>{void 0!==i&&i(o)}).catch(e=>{let i=e.toString();void 0!==d?d(i):SHOW_ERROR("REQUEST",i,o)})}});global.GO=METHOD(o=>{let t;return{run:o=>{let n,a;CHECK_IS_DATA(o)!==!0?n=o:(n=o.uri,a=o.data),void 0===t&&(t=!1,EVENT("keydown",o=>{"Control"===o.getKey()&&(t=!0)}),EVENT("keyup",o=>{"Control"===o.getKey()&&(t=!1)})),t===!0?(GO_NEW_WIN(n),t=!1):(MATCH_VIEW.setURIData(a),"file:"===location.protocol?location.href=HREF(n):history.pushState(void 0,void 0,HREF(n)),MATCH_VIEW.checkAll())}}}),FOR_BOX(o=>{o.GO=METHOD({run:t=>{let n,a;CHECK_IS_DATA(t)!==!0?n=t:(n=t.uri,a=t.data),GO({uri:(o.boxName===CONFIG.defaultBoxName?"":o.boxName+"/")+n,data:a})}})});global.GO_NEW_WIN=METHOD({run:N=>{global.open(HREF(N))}}),FOR_BOX(N=>{N.GO_NEW_WIN=METHOD({run:n=>{GO_NEW_WIN((N.boxName===CONFIG.defaultBoxName?"":N.boxName+"/")+n)}})});global.HREF=METHOD({run:o=>{return"file:"===location.protocol?"#!/"+o:"/"+o}}),FOR_BOX(o=>{o.HREF=METHOD({run:n=>{return HREF((o.boxName===CONFIG.defaultBoxName?"":o.boxName+"/")+(void 0===n?"":n))}})});global.MATCH_VIEW=METHOD(e=>{let n,o=[];e.checkAll=(()=>{EACH(o,e=>{e()})}),e.setURIData=(e=>{n=e});return{run:e=>{let c,t,a=e.uri,i=e.excludeURI,u=e.target,E=URI_MATCHER(a),R=void 0===i?void 0:URI_MATCHER(i),h=()=>{let e,o=URI();if(o===REFRESH.getRefreshingURI()||(e=E.check(o)).checkIsMatched()!==!0||void 0!==i&&R.check(o).checkIsMatched()===!0)void 0!==c&&(c.close(),c=void 0,u.lastView=void 0);else{let a=e.getURIParams();void 0===c?(c=u(n),c.changeParams(a),u.lastView=c,t=a):CHECK_ARE_SAME([t,a])!==!0&&(c.changeParams(a),t=a),c.runURIChangeHandlers(o),n=void 0}};o.push(h),"file:"===location.protocol?EVENT("hashchange",()=>{h()}):EVENT("popstate",()=>{h()}),h()}}}),FOR_BOX(e=>{e.MATCH_VIEW=METHOD({run:n=>{let o=n.uri,c=n.excludeURI,t=n.target,a=[],i=[],u=n=>{e.boxName===CONFIG.defaultBoxName&&a.push(n),a.push(e.boxName+"/"+n)},E=n=>{e.boxName===CONFIG.defaultBoxName&&i.push(n),i.push(e.boxName+"/"+n)};CHECK_IS_ARRAY(o)===!0?EACH(o,u):u(o),void 0!==c&&(CHECK_IS_ARRAY(c)===!0?EACH(c,E):E(c)),MATCH_VIEW({uri:a,excludeURI:i,target:t})}})});global.REFRESH=METHOD(o=>{const n="__REFRESHING";let t=o.getRefreshingURI=(()=>{return n});return{run:o=>{if("file:"===location.protocol){let n=void 0!==o?"#!/"+o:location.hash;EVENT_ONCE({name:"hashchange"},()=>{location.replace(""===n?"#!/":n)}),location.href="#!/"+t()}else{let n=void 0!==o?o:location.pathname.substring(1);history.pushState(void 0,void 0,"/__REFRESHING"),MATCH_VIEW.checkAll(),history.replaceState(void 0,void 0,"/"+n),MATCH_VIEW.checkAll()}}}}),FOR_BOX(o=>{o.REFRESH=METHOD({run:n=>{REFRESH((o.boxName===CONFIG.defaultBoxName?"":o.boxName+"/")+(void 0===n?"":n))}})});global.URI=METHOD({run:()=>{return"file:"===location.protocol?location.hash.substring(3):decodeURIComponent(location.pathname.substring(1))}});global.VIEW=CLASS({init:(n,o)=>{let c,u,i=!1,s=[],t=[],a=[];n.on=((n,o)=>{"paramsChange"===n&&(s.push(o),void 0!==c&&o(c)),"uriChange"===n?(t.push(o),void 0!==u&&o(u)):"close"===n&&a.push(o)}),o.changeParams=(n=>{c=n,EACH(s,o=>{o(n)})}),o.runURIChangeHandlers=(n=>{u=n,EACH(t,o=>{o(n)})}),o.close=(()=>{EACH(a,n=>{n()}),i=!0}),n.checkIsClosed=(()=>{return i});scrollTo(0,0)}});global.SCROLL_LEFT=METHOD({run:()=>{return global.pageXOffset}});global.SCROLL_TOP=METHOD({run:()=>{return global.pageYOffset}});global.TITLE=METHOD({run:t=>{return void 0===t?document.title:void(document.title=t)}});global.WIN_HEIGHT=METHOD({run:()=>{return window.innerHeight}});global.WIN_WIDTH=METHOD({run:()=>{return document.documentElement.clientWidth}});